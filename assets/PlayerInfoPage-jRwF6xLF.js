import{d as V,r as i,o as P,k as x,b as e,w as p,_ as E,l as z,m as L,n as Q,q as M,s as J,v as K,u as U,x as X,j as k,c as Y,h as Z,a as C,g as ee,i as q,t as H}from"./index-Bjlur3bp.js";import{c as te,d as ae,a as le}from"./index-CEv67r-a.js";const oe={class:"battleGame"},re=V({__name:"battleGame",props:{games:{}},setup(s){const f=s;function w(h){return typeof h.SBP=="number"?h.SBP:0}return(h,l)=>{const t=i("el-table-column"),B=i("el-table");return P(),x("div",oe,[e(B,{data:f.games,height:"250",style:{width:"100%"},"empty-text":"暫無數據"},{default:p(()=>[e(t,{prop:"gameType",label:"賽事"}),e(t,{prop:"group",label:"組別"}),e(t,{fixed:"",prop:"team",label:"隊伍"}),e(t,{prop:"PA",label:"打席"}),e(t,{prop:"SingleB",label:"安打"}),e(t,{prop:"DoubleB",label:"二壘安打"}),e(t,{prop:"TripleB",label:"三壘安打"}),e(t,{prop:"HR",label:"全壘打"}),e(t,{prop:"RBI",label:"打點"}),e(t,{prop:"R",label:"得分"}),e(t,{prop:"BB",label:"四壞"}),e(t,{prop:"SO",label:"三振"}),e(t,{prop:"SF",label:"高飛犧牲打"}),e(t,{prop:"SH",label:"犧牲觸擊"}),e(t,{prop:"ERRCH",label:"失誤"}),e(t,{prop:"HBP",label:"觸身球"}),e(t,{prop:"SB",label:"盜壘成功"}),e(t,{prop:"CS",label:"盜壘失敗"}),e(t,{prop:"SBP",label:"盜壘成功率",formatter:w}),e(t,{prop:"AVG",label:"AVG"}),e(t,{prop:"OBP",label:"上壘率"}),e(t,{prop:"SLG",label:"長打率"}),e(t,{prop:"OPS",label:"OPS"})]),_:1},8,["data"])])}}}),ne=E(re,[["__scopeId","data-v-5802567f"]]);function pe(s){return z()?(Q(s),!0):!1}function N(s){return typeof s=="function"?s():L(s)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const I=new WeakMap;function T(s,f,w={}){const{mode:h="replace",route:l=K(),router:t=U(),transform:B=n=>n}=w;I.has(t)||I.set(t,new Map);const G=I.get(t);let g=l.query[s];pe(()=>{g=void 0});let y;const O=M((n,c)=>(y=c,{get(){return n(),B(g!==void 0?g:N(f))},set(r){g!==r&&(g=r===f||r===null?void 0:r,G.set(s,r===f||r===null?void 0:r),c(),X(()=>{if(G.size===0)return;const o=Object.fromEntries(G.entries());G.clear();const{params:u,query:m,hash:d}=l;t[N(h)]({params:u,query:{...m,...o},hash:d})}))}}));return J(()=>l.query[s],n=>{g=n,y()},{flush:"sync"}),O}const se={class:"playerInfoPage"},ce={key:0},ue={key:1},ie="https://cube.elemecdn.com/9/c2/f0ee8a3c7c9638a54940382568c9dpng.png",_e=V({__name:"PlayerInfoPage",setup(s){var O;const f=T("name"),w=T("number"),h=k([]),l=k(),t=k([]),B=k(!1);if(w.value||f.value){B.value=!0;const n=Number(w.value),c=(O=f.value)==null?void 0:O.toString();G(c,n)}async function G(n,c){const r=`${n}${c}`;await te(c).then(o=>{l.value=o}).catch(o=>{console.log(o)}),await ae(r).then(o=>{h.value=o}).catch(o=>{console.log(o)}),await le(r).then(o=>{l.value&&t.value.push(Object.assign(l.value,{hitter:o}))}).catch(o=>{console.log(o)}),B.value=!1}const g=Y(()=>n=>{const{columns:c,data:r}=n,o=[];return c.forEach((u,m)=>{if(m===0){o[m]="總計";return}const d=r.map(a=>Number(a[u.property]));u.property==="AVG"||u.property==="OBP"||u.property==="SLG"||u.property==="OPS"?d.length===0?o[m]=0:o[m]=(d.reduce((a,R)=>a+R)/d.length).toFixed(3):d.length===0?o[m]=0:o[m]=d.reduce((a,R)=>a+R,0)}),o});function y(n,c,r){return n||console.log(n,c,r),r.toFixed(3)}return(n,c)=>{const r=i("el-avatar"),o=i("el-col"),u=i("el-descriptions-item"),m=i("el-descriptions"),d=i("el-row"),a=i("el-table-column"),R=i("el-table"),A=i("el-tab-pane"),F=i("el-tabs"),W=i("el-card"),j=ee("loading");return P(),x("div",se,[Z((P(),C(W,null,{default:p(()=>[e(d,null,{default:p(()=>[e(o,{span:6},{default:p(()=>{var v,S;return[(v=l.value)!=null&&v.img?(P(),C(r,{key:0,shape:"square",size:50,src:(S=l.value)==null?void 0:S.img},null,8,["src"])):(P(),C(r,{key:1,shape:"square",size:50,src:ie}))]}),_:1}),e(o,{span:18},{default:p(()=>{var v,S;return[e(m,{title:`${(v=l.value)==null?void 0:v.name} #${(S=l.value)==null?void 0:S.number}`},{default:p(()=>[e(u,{label:"年齡"},{default:p(()=>{var _,b;return[q(H((_=l.value)!=null&&_.age?(b=l.value)==null?void 0:b.age:"--"),1)]}),_:1}),e(u,{label:"身高/體重"},{default:p(()=>{var _,b,D,$;return[q(H((_=l.value)!=null&&_.height?(b=l.value)==null?void 0:b.height:"-")+H((D=l.value)!=null&&D.weight?`/${($=l.value)==null?void 0:$.weight}`:"/-"),1)]}),_:1}),e(u,{label:"守備位置"},{default:p(()=>{var _,b;return[q(H((_=l.value)!=null&&_.position?(b=l.value)==null?void 0:b.position:"--"),1)]}),_:1}),e(u,{label:"投打習慣"},{default:p(()=>{var _,b;return[q(H((_=l.value)!=null&&_.pitchingAndHiterHabits?(b=l.value)==null?void 0:b.pitchingAndHiterHabits:"--"),1)]}),_:1})]),_:1},8,["title"])]}),_:1})]),_:1}),e(F,{type:"border-card"},{default:p(()=>[e(A,{label:"生涯數據"},{default:p(()=>{var v,S;return[(v=l.value)!=null&&v.hitter?(P(),x("div",ce,[e(R,{data:(S=l.value)==null?void 0:S.hitter,height:"250",style:{width:"100%"},"empty-text":"暫無數據","show-summary":"","summary-method":g.value},{default:p(()=>[e(a,{fixed:"",prop:"season",label:"球季"}),e(a,{prop:"PA",label:"打席"}),e(a,{prop:"AB",label:"打數"}),e(a,{prop:"SingleB",label:"安打"}),e(a,{prop:"DoubleB",label:"二壘安打"}),e(a,{prop:"TripleB",label:"三壘安打"}),e(a,{prop:"HR",label:"全壘打"}),e(a,{prop:"RBI",label:"打點"}),e(a,{prop:"R",label:"得分"}),e(a,{prop:"BB",label:"四壞"}),e(a,{prop:"SO",label:"三振"}),e(a,{prop:"SF",label:"高飛犧牲打"}),e(a,{prop:"SH",label:"犧牲觸擊"}),e(a,{prop:"ERRCH",label:"失誤"}),e(a,{prop:"HBP",label:"觸身球"}),e(a,{prop:"SB",label:"盜壘成功"}),e(a,{prop:"CS",label:"盜壘失敗"}),e(a,{prop:"SBP",label:"盜壘成功率",formatter:y}),e(a,{prop:"AVG",label:"AVG",formatter:y}),e(a,{prop:"OBP",label:"上壘率",formatter:y}),e(a,{prop:"SLG",label:"長打率",formatter:y}),e(a,{prop:"OPS",label:"OPS",formatter:y})]),_:1},8,["data","summary-method"])])):(P(),x("div",ue,"暫無選手資料"))]}),_:1}),e(A,{label:"進階數據"}),e(A,{label:"對戰成績"},{default:p(()=>[e(ne,{games:h.value},null,8,["games"])]),_:1})]),_:1})]),_:1})),[[j,B.value]])])}}}),de=E(_e,[["__scopeId","data-v-854390cd"]]);export{de as default};
