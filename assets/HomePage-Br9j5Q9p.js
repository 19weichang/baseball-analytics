import{g as q,a as W}from"./index-3QHpq9VD.js";import{d as F,r as v,c as i,a as G,b as a,w as l,e as k,f as s,u as J,g as K,o as d,h as g,i as y,j as p,t as x,p as M,k as Q,_ as U}from"./index-BtfKNKpi.js";const T=_=>(M("data-v-b038ebbb"),_=_(),Q(),_),X={class:"homePage"},Y=T(()=>k("p",{class:"title"},"安打 Top5",-1)),Z=T(()=>k("p",{class:"title"},"打點 Top5",-1)),ee=T(()=>k("p",{class:"title"},"全壘打 Top5",-1)),ae={class:"block"},te=F({__name:"HomePage",setup(_){const w=v([]),u=v(0),c=v(!1),r=v([]),N=J(),R=i(()=>r.value.length!==u.value?[]:r.value.map(e=>({name:e.name,hit:Array.isArray(e.hitter)?e.hitter.reduce((n,t)=>n+t.SingleB+t.DoubleB+t.TripleB+t.HR,0):0,number:e.number})).sort((e,n)=>n.hit-e.hit).slice(0,5)),A=i(()=>r.value.length!=u.value),S=i(()=>r.value.map(e=>({name:e.name,rbi:Array.isArray(e.hitter)?e.hitter.reduce((n,t)=>n+t.RBI,0):0,number:e.number})).sort((e,n)=>n.rbi-e.rbi).slice(0,5)),$=i(()=>r.value.length!=u.value),z=i(()=>r.value.map(e=>({name:e.name,hr:Array.isArray(e.hitter)?e.hitter.reduce((n,t)=>n+t.HR,0):0,number:e.number})).sort((e,n)=>n.hr-e.hr).slice(0,5)),D=i(()=>r.value.length!=u.value);function L(){c.value=!0,q().then(e=>{w.value=e,u.value=e.length,V(e)}).catch(e=>{console.log(e)}).finally(()=>{c.value=!1})}function V(e){e.forEach(n=>{W(`${n.name}${n.number}`).then(t=>{r.value.push(Object.assign(n,{hitter:t}))}).catch(t=>{console.log(t)})})}function m(e){e.name&&N.push({name:"PlayerInfoPage",query:{name:e.name,number:e.number}})}function j({rowIndex:e}){if(e===0)return{background:"#f0f9eb",color:"#67c23a",fontWeight:"bold"}}return L(),(e,n)=>{const t=s("el-table-column"),b=s("el-button"),f=s("el-table"),B=s("el-card"),C=s("el-col"),H=s("el-row"),E=s("el-divider"),I=s("el-tab-pane"),O=s("el-tabs"),h=K("loading");return d(),G("div",X,[a(H,{class:"block"},{default:l(()=>[a(C,{xs:24,sm:8,style:{padding:"10px"}},{default:l(()=>[a(B,null,{default:l(()=>[Y,g((d(),y(f,{class:"rankTable",data:R.value,style:{width:"100%"},"cell-style":j},{default:l(()=>[a(t,{fixed:"",type:"index",label:"Top",width:"50"}),a(t,{prop:"name",label:"姓名"},{default:l(({row:o})=>[a(b,{class:"playerNameBtn",text:"",size:"small",onClick:P=>m(o)},{default:l(()=>[p(x(o.name),1)]),_:2},1032,["onClick"])]),_:1}),a(t,{prop:"hit",label:"安打"})]),_:1},8,["data"])),[[h,A.value||c.value]])]),_:1})]),_:1}),a(C,{xs:24,sm:8,style:{padding:"10px"}},{default:l(()=>[a(B,null,{default:l(()=>[Z,g((d(),y(f,{class:"rankTable",data:S.value,style:{width:"100%"}},{default:l(()=>[a(t,{fixed:"",type:"index",label:"Top",width:"50"}),a(t,{prop:"name",label:"姓名"},{default:l(({row:o})=>[a(b,{class:"playerNameBtn",text:"",size:"small",onClick:P=>m(o)},{default:l(()=>[p(x(o.name),1)]),_:2},1032,["onClick"])]),_:1}),a(t,{prop:"rbi",label:"打點"})]),_:1},8,["data"])),[[h,$.value||c.value]])]),_:1})]),_:1}),a(C,{xs:24,sm:8,style:{padding:"10px"}},{default:l(()=>[a(B,null,{default:l(()=>[ee,g((d(),y(f,{class:"rankTable",data:z.value,style:{width:"100%"}},{default:l(()=>[a(t,{fixed:"",type:"index",label:"Top",width:"50"}),a(t,{prop:"name",label:"姓名"},{default:l(({row:o})=>[a(b,{class:"playerNameBtn",text:"",size:"small",onClick:P=>m(o)},{default:l(()=>[p(x(o.name),1)]),_:2},1032,["onClick"])]),_:1}),a(t,{prop:"hr",label:"全壘打"})]),_:1},8,["data"])),[[h,D.value||c.value]])]),_:1})]),_:1})]),_:1}),a(E),k("div",ae,[a(O,{type:"border-card",class:"tabsCard"},{default:l(()=>[a(I,{label:"打者"},{default:l(()=>[a(H,null,{default:l(()=>[g((d(),y(f,{class:"homePageTable",stripe:"",data:w.value,height:"250",style:{width:"100%"},"empty-text":"暫無數據"},{default:l(()=>[a(t,{fixed:"",prop:"number",label:"No",width:"50"}),a(t,{prop:"name",label:"姓名",width:"100"},{default:l(({row:o})=>[a(b,{class:"playerNameBtn",text:"",size:"small",onClick:P=>m(o)},{default:l(()=>[p(x(o.name),1)]),_:2},1032,["onClick"])]),_:1}),a(t,{prop:"age",label:"年齡"}),a(t,{prop:"position",label:"守備位置"}),a(t,{prop:"gradeIndex",label:"總評"}),a(t,{prop:"hit",label:"打擊"}),a(t,{prop:"speed",label:"速度"}),a(t,{prop:"defense",label:"守備"}),a(t,{prop:"arm",label:"傳球"})]),_:1},8,["data"])),[[h,c.value]])]),_:1})]),_:1}),a(I,{label:"投手"},{default:l(()=>[p("coming soon...")]),_:1})]),_:1})])])}}}),oe=U(te,[["__scopeId","data-v-b038ebbb"]]);export{oe as default};
