import{d as T,r as i,o as P,k as q,b as e,w as n,_ as V,l as z,m as L,n as Q,q as M,s as J,v as K,u as U,x as X,j as k,c as Y,h as Z,a as C,g as ee,i as A,t as R}from"./index-V-0-Ugyh.js";import{c as le,d as ae,a as te}from"./index-DvotmHqo.js";const oe={class:"battleGame"},re=T({__name:"battleGame",props:{games:{}},setup(s){const f=s;function O(h){return typeof h.SBP=="number"?h.SBP:0}return(h,t)=>{const l=i("el-table-column"),B=i("el-table");return P(),q("div",oe,[e(B,{data:f.games,height:"250",style:{width:"100%"},"empty-text":"暫無數據"},{default:n(()=>[e(l,{prop:"gameType",label:"賽事"}),e(l,{prop:"group",label:"組別"}),e(l,{fixed:"",prop:"team",label:"隊伍"}),e(l,{prop:"PA",label:"打席"}),e(l,{prop:"SingleB",label:"安打"}),e(l,{prop:"DoubleB",label:"二壘安打"}),e(l,{prop:"TripleB",label:"三壘安打"}),e(l,{prop:"HR",label:"全壘打"}),e(l,{prop:"RBI",label:"打點"}),e(l,{prop:"R",label:"得分"}),e(l,{prop:"BB",label:"四壞"}),e(l,{prop:"SO",label:"三振"}),e(l,{prop:"GO",label:"滾地出局"}),e(l,{prop:"AO",label:"飛球出局"}),e(l,{prop:"SF",label:"高飛犧牲打"}),e(l,{prop:"SH",label:"犧牲觸擊"}),e(l,{prop:"ERRCH",label:"失誤上壘"}),e(l,{prop:"HBP",label:"觸身球"}),e(l,{prop:"CI",label:"捕手妨礙打擊"}),e(l,{prop:"SB",label:"盜壘成功"}),e(l,{prop:"CS",label:"盜壘失敗"}),e(l,{prop:"SBP",label:"盜壘成功率",formatter:O}),e(l,{prop:"AVG",label:"AVG"}),e(l,{prop:"OBP",label:"上壘率"}),e(l,{prop:"SLG",label:"長打率"}),e(l,{prop:"OPS",label:"OPS"}),e(l,{prop:"E",label:"守備失誤"})]),_:1},8,["data"])])}}}),pe=V(re,[["__scopeId","data-v-5c0d39a7"]]);function ne(s){return z()?(Q(s),!0):!1}function $(s){return typeof s=="function"?s():L(s)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const I=new WeakMap;function N(s,f,O={}){const{mode:h="replace",route:t=K(),router:l=U(),transform:B=p=>p}=O;I.has(l)||I.set(l,new Map);const G=I.get(l);let g=t.query[s];ne(()=>{g=void 0});let y;const H=M((p,c)=>(y=c,{get(){return p(),B(g!==void 0?g:$(f))},set(r){g!==r&&(g=r===f||r===null?void 0:r,G.set(s,r===f||r===null?void 0:r),c(),X(()=>{if(G.size===0)return;const o=Object.fromEntries(G.entries());G.clear();const{params:u,query:m,hash:d}=t;l[$(h)]({params:u,query:{...m,...o},hash:d})}))}}));return J(()=>t.query[s],p=>{g=p,y()},{flush:"sync"}),H}const se={class:"playerInfoPage"},ce={key:0},ue={key:1},ie="https://cube.elemecdn.com/9/c2/f0ee8a3c7c9638a54940382568c9dpng.png",be=T({__name:"PlayerInfoPage",setup(s){var H;const f=N("name"),O=N("number"),h=k([]),t=k(),l=k([]),B=k(!1);if(O.value||f.value){B.value=!0;const p=Number(O.value),c=(H=f.value)==null?void 0:H.toString();G(c,p)}async function G(p,c){const r=`${p}${c}`;await le(c).then(o=>{t.value=o}).catch(o=>{console.log(o)}),await ae(r).then(o=>{h.value=o}).catch(o=>{console.log(o)}),await te(r).then(o=>{t.value&&l.value.push(Object.assign(t.value,{hitter:o}))}).catch(o=>{console.log(o)}),B.value=!1}const g=Y(()=>p=>{const{columns:c,data:r}=p,o=[];return c.forEach((u,m)=>{if(m===0){o[m]="總計";return}const d=r.map(a=>Number(a[u.property]));u.property==="AVG"||u.property==="OBP"||u.property==="SLG"||u.property==="OPS"?d.length===0?o[m]=0:o[m]=(d.reduce((a,w)=>a+w)/d.length).toFixed(3):d.length===0?o[m]=0:o[m]=d.reduce((a,w)=>a+w,0)}),o});function y(p,c,r){return p||console.log(p,c,r),r.toFixed(3)}return(p,c)=>{const r=i("el-avatar"),o=i("el-col"),u=i("el-descriptions-item"),m=i("el-descriptions"),d=i("el-row"),a=i("el-table-column"),w=i("el-table"),x=i("el-tab-pane"),F=i("el-tabs"),W=i("el-card"),j=ee("loading");return P(),q("div",se,[Z((P(),C(W,null,{default:n(()=>[e(d,null,{default:n(()=>[e(o,{span:6},{default:n(()=>{var v,S;return[(v=t.value)!=null&&v.img?(P(),C(r,{key:0,shape:"square",size:50,src:(S=t.value)==null?void 0:S.img},null,8,["src"])):(P(),C(r,{key:1,shape:"square",size:50,src:ie}))]}),_:1}),e(o,{span:18},{default:n(()=>{var v,S;return[e(m,{title:`${(v=t.value)==null?void 0:v.name} #${(S=t.value)==null?void 0:S.number}`},{default:n(()=>[e(u,{label:"年齡"},{default:n(()=>{var b,_;return[A(R((b=t.value)!=null&&b.age?(_=t.value)==null?void 0:_.age:"--"),1)]}),_:1}),e(u,{label:"身高/體重"},{default:n(()=>{var b,_,D,E;return[A(R((b=t.value)!=null&&b.height?(_=t.value)==null?void 0:_.height:"-")+R((D=t.value)!=null&&D.weight?`/${(E=t.value)==null?void 0:E.weight}`:"/-"),1)]}),_:1}),e(u,{label:"守備位置"},{default:n(()=>{var b,_;return[A(R((b=t.value)!=null&&b.position?(_=t.value)==null?void 0:_.position:"--"),1)]}),_:1}),e(u,{label:"投打習慣"},{default:n(()=>{var b,_;return[A(R((b=t.value)!=null&&b.pitchingAndHiterHabits?(_=t.value)==null?void 0:_.pitchingAndHiterHabits:"--"),1)]}),_:1})]),_:1},8,["title"])]}),_:1})]),_:1}),e(F,{type:"border-card"},{default:n(()=>[e(x,{label:"生涯數據"},{default:n(()=>{var v,S;return[(v=t.value)!=null&&v.hitter?(P(),q("div",ce,[e(w,{data:(S=t.value)==null?void 0:S.hitter,height:"250",style:{width:"100%"},"empty-text":"暫無數據","show-summary":"","summary-method":g.value},{default:n(()=>[e(a,{fixed:"",prop:"season",label:"球季"}),e(a,{prop:"PA",label:"打席"}),e(a,{prop:"AB",label:"打數"}),e(a,{prop:"SingleB",label:"安打"}),e(a,{prop:"DoubleB",label:"二壘安打"}),e(a,{prop:"TripleB",label:"三壘安打"}),e(a,{prop:"HR",label:"全壘打"}),e(a,{prop:"RBI",label:"打點"}),e(a,{prop:"R",label:"得分"}),e(a,{prop:"BB",label:"四壞"}),e(a,{prop:"SO",label:"三振"}),e(a,{prop:"GO",label:"滾地出局"}),e(a,{prop:"AO",label:"飛球出局"}),e(a,{prop:"SF",label:"高飛犧牲打"}),e(a,{prop:"SH",label:"犧牲觸擊"}),e(a,{prop:"ERRCH",label:"失誤上壘"}),e(a,{prop:"HBP",label:"觸身球"}),e(a,{prop:"SB",label:"盜壘成功"}),e(a,{prop:"CS",label:"盜壘失敗"}),e(a,{prop:"SBP",label:"盜壘成功率",formatter:y}),e(a,{prop:"AVG",label:"AVG",formatter:y}),e(a,{prop:"OBP",label:"上壘率",formatter:y}),e(a,{prop:"SLG",label:"長打率",formatter:y}),e(a,{prop:"OPS",label:"OPS",formatter:y}),e(a,{prop:"E",label:"守備失誤"})]),_:1},8,["data","summary-method"])])):(P(),q("div",ue,"暫無選手資料"))]}),_:1}),e(x,{label:"進階數據"}),e(x,{label:"對戰成績"},{default:n(()=>[e(pe,{games:h.value},null,8,["games"])]),_:1})]),_:1})]),_:1})),[[j,B.value]])])}}}),de=V(be,[["__scopeId","data-v-3c238da7"]]);export{de as default};
